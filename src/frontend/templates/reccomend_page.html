{% extends 'base.html' %} <!-- Based off the base.html (where skeleton html is like navi bar)-->



{% block head %}
<title>SongSurf Reccomendations</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/reccomend_page.css') }}">
{% endblock %}

{% block body %} 

<!-- <h1>SongSurf</h1> -->
<div style="text-align: center;">
  <a href="{{ url_for('home_page') }}" ><img src='static/css/images/SongSurf Logo.png' style="width:250px; height:100px;"></a>
</div>
<p> SongSurf allows you to discover new music that
  you'll love through an informative, attractive, and intuitive website. 
  Input your favorite artists, albums, or songs and receive recommendations based on what you love.
  SongSurf also allows you to track your favorite discoveries for future use   .</p>

<!-- Button to open the favorites tab -->
<button class="favorites-button">Favorites</button>

<!-- The sliding favorites tab -->
<div class="favorites-tab">
  <div class="close-button">&times;</div>
  <h3>Your Favorites</h3>
  <!-- Add your favorite items here -->
</div>
  
<div class="content">
  <h2>Here are some {{ user_choice }} based off what you like:</h2>
  <div class="recommendations">
    {% for rec in recommendations %}
    <div class="recommendation-container">
      <p>{{ user_choice }} - {{ rec }}</p>
      {% if rec is iterable and not rec|string %}
        {% for r in rec %}
          <div class="temp_section">
            <img src="static/css/images/SongSurf Logo.png" alt="Temporary Image">
            <p class="temp_description">This is a temporary description that should be limited to 100 characters.</p>
          </div>
        {% endfor %}
      {% else %}
        <div class="temp_section">
          <img src="static/css/images/SongSurf Logo.png" alt="Temporary Image">
          <p class="temp_description">This is a temporary description that should be limited to 100 characters.</p>
        </div>
      {% endif %}
      <div class="like-dislike-container">
        <div class="like-dislike">
          <button class="like-button">Like</button>
          <button class="dislike-button">Dislike</button>
        </div>
      </div>
    </div>
{% endfor %}
</div>
    
<div style="text-align: center;">
  <a href="{{ url_for('search_page') }}" ><img src='static/css/images/backarrow.png' style="width:75px; height:45px;"></a>
</div>


</div>

</div>

<div class="dev_only">
<p> Temporarily here: </p>
Your album artist song searches retrieved from the database:
</div>

<script>
  const favoritesButton = document.querySelector('.favorites-button');
  const favoritesTab = document.querySelector('.favorites-tab');
  const closeButton = document.querySelector('.favorites-tab .close-button');

  favoritesButton.addEventListener('click', () => {
      favoritesTab.classList.add('open');
      document.body.style.overflow = 'hidden'; // Hide the scrollbar when the tab is open
  });

  closeButton.addEventListener('click', () => {
      favoritesTab.classList.remove('open');
      document.body.style.overflow = 'auto'; // Show the scrollbar when the tab is closed
  });
</script>

{% endblock %}
